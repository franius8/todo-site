(()=>{"use strict";const e=function(e){return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()},t=function(e){var t=e,n=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),d=t.getTime()-n.getTime();return Math.floor(d/864e5)},n=function(e,t,n,d,o){var r=!1;return{heading:e,text:t,date:n,priority:d,iD:o,markAsDone:function(){return r=!r},getDoneStatus:function(){return r}}};var d;const o=(d=JSON.parse(localStorage.getItem("idsary")||"[]"),{generateID:function(){for(;;){var e=Math.floor(1e4*Math.random());if(!d.includes(e))return d.push(e),localStorage.setItem("idsary",JSON.stringify(d)),e}}}),r=function(e){return new Date(e)};var a,i;const l=(a=[],i=[],{createToDo:function(e,t,d,r){var i=o.generateID(),l=n(e,t,d,r,i);return a.push(l),localStorage.setItem("todoary",JSON.stringify(a)),l},modifyToDo:function(e,t,n,d,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===d&&(d=null),void 0===o&&(o=null);var r=a.find((function(t){return t.iD===e}));null!==t&&(r.heading=t),null!==n&&(r.text=n),null!==d&&(r.date=d),null!==o&&(r.priority=o)},deleteToDo:function(e){var t=a.findIndex((function(t){return t.iD===e}));a.splice(t,1),localStorage.setItem("todoary",JSON.stringify(a))},getToDoAry:function(){return a},loadArys:function(){JSON.parse(localStorage.getItem("todoary")||"[]").forEach((function(e){e.date=r(e.date),a.push(n(e.heading,e.text,e.date,e.priority,e.iD))})),(i=JSON.parse(localStorage.getItem("doneary")||"[]")).forEach((function(e){e.date=r(e.date)}))},getDoneAry:function(){return i},moveToDone:function(e){var t=a.findIndex((function(t){return t.iD===e})),n=a.splice(t,1)[0];console.log(n),n.markAsDone(),localStorage.setItem("todoary",JSON.stringify(a)),a.push(n),localStorage.setItem("doneary",JSON.stringify(a))}}),c=function(e){e.preventDefault();var t=e.target,n=t.parentNode,d=document.getElementById("todotitle").value,o=document.getElementById("todocontent").value,r=new Date(document.getElementById("tododate").value),a=document.querySelector('input[name="todopriority"]:checked').value;return t.reset(),n.style.display="none",[d,o,r,a]},u=function(e){var t=c(e);l.createToDo(t[0],t[1],t[2],t[3]),g.displayToDos(l.getToDoAry())};var s,m,p;const v=(s=document.getElementById("content")||document.createElement("content"),m=function(e,t){var n=document.createElement("label");return n.setAttribute("for",e),n.textContent=t,n},p=function(e,t,n,d){void 0===d&&(d=!0);var o=document.createElement("div");return o.classList.add("inputdiv"),o.appendChild(m(t,n)),o.appendChild(function(e,t,n,d){void 0===n&&(n="empty");var o=document.createElement("input");return o.setAttribute("type",e),o.setAttribute("name",t),o.setAttribute("id",t),!0===d&&o.setAttribute("required","true"),"empty"!==n&&o.setAttribute("value",n),o}(e,t,"empty",d)),o},{buildForm:function(){var e=document.createElement("div");e.setAttribute("id","formdiv");var t=document.createElement("h2");t.setAttribute("id","formheading"),t.textContent="Add a new ToDo";var n,d=document.createElement("form");return d.appendChild(p("text","todotitle","Title:")),d.appendChild(p("text","todocontent","Content (optional):",!1)),d.appendChild(p("date","tododate","Due date:")),d.appendChild(function(e,t){var n=document.createElement("div");n.classList.add("inputdiv"),n.appendChild(m("radiocontainer","Priority:"));var d=document.createElement("div");return d.setAttribute("id","radiocontainer"),["Low","Standard","High"].forEach((function(e){var t=document.createElement("input");t.setAttribute("type","radio"),t.setAttribute("name","todopriority"),t.setAttribute("value",e),t.setAttribute("id",e);var n=document.createElement("label");n.setAttribute("for",e),n.textContent=e[0].toUpperCase()+e.substring(1),d.appendChild(t),d.appendChild(n)})),n.appendChild(d),n}()),d.appendChild(((n=document.createElement("button")).setAttribute("type","submit"),n.setAttribute("id","todosubmit"),n.textContent="Add",n)),e.appendChild(function(e){var t=document.createElement("div");t.setAttribute("id","closebuttondiv");var n=document.createElement("button");return n.setAttribute("id","closebutton"),n.innerHTML='<span class="material-symbols-outlined">close</span>',n.addEventListener("click",(function(){e.style.display="none",s.classList.remove("blurred")})),t.appendChild(n),t}(e)),e.appendChild(t),e.appendChild(d),d.addEventListener("submit",(function(e){u(e),s.classList.remove("blurred")})),e}});var h=function(){var n=document.getElementById("content")||document.createElement("content"),d=function(n){var d,r,a=document.getElementById("tododiv")||document.createElement("tododiv"),i=document.createElement("div");i.classList.add("todo"),i.setAttribute("id",n.iD.toString()),i.appendChild((d=n.priority,(r=document.createElement("div")).classList.add("labelstripe"),"Standard"===d?r.style.backgroundColor="orange":"Low"===d?r.style.backgroundColor="blue":"High"===d&&(r.style.backgroundColor="red"),r));var c,u=document.createElement("div");u.classList.add("checkboxdiv"),u.appendChild(((c=document.createElement("div")).classList.add("checkbox"),c.innerHTML="&#10003",c.addEventListener("click",(function(e){var t=e.target,n=t.parentNode,d=t.cloneNode(!0);n.replaceChild(d,t);var o=n.parentNode,r=Number(o.id);l.moveToDone(r),o.remove(),o.classList.remove("todo"),o.classList.add("donetodo"),document.getElementById("donediv").appendChild(o)})),c)),i.appendChild(u),i.appendChild(function(n){var d=document.createElement("div");d.classList.add("todocontent");var o=document.createElement("div");o.classList.add("todoheader"),o.textContent=n.heading;var r=document.createElement("div");return r.classList.add("todotext"),r.textContent=n.text,d.appendChild(o),d.appendChild(r),d.appendChild(function(n){var d=document.createElement("div");d.classList.add("tododate");var o=document.createElement("div");o.innerHTML='<span class="material-symbols-outlined">calendar_month</span>';var r=document.createElement("div");return t(n)>=0?r.textContent=e(n)+" ("+t(n)+" days left)":(d.classList.add("missedtodo"),r.textContent=e(n)+" ("+Math.abs(t(n))+" days ago)"),d.appendChild(o),d.appendChild(r),d}(n.date)),d.appendChild(function(e){var t=document.createElement("div");t.classList.add("todopriority");var n=document.createElement("div");n.classList.add("prioritycircle"),"Standard"===e?n.style.backgroundColor="orange":"Low"===e?n.style.backgroundColor="blue":"High"===e&&(n.style.backgroundColor="red");var d=document.createElement("div");return d.textContent=e+" priority",t.appendChild(n),t.appendChild(d),t}(n.priority)),d}(n)),i.appendChild(function(){var e=document.createElement("div");e.classList.add("buttondiv");var t=document.createElement("button");t.classList.add("editbutton"),t.innerHTML='<span class="material-symbols-outlined">edit</span>';var n=document.createElement("button");return n.classList.add("deletebutton"),n.innerHTML='<span class="material-symbols-outlined">delete</span>',n.addEventListener("click",(function(e){var t=e.target.parentNode.parentNode,n=Number(t.id);confirm("Are you sure you want to delete that?\n(This is an irreversible operation)")&&(l.deleteToDo(n),o(l.getToDoAry()))})),e.appendChild(t),e.appendChild(n),e}()),a.appendChild(i)},o=function(e){console.log("testing"),document.getElementById("tododiv").textContent="",e.sort((function(e,t){return e.date.getTime()-t.date.getTime()})).forEach((function(e){return d(e)}))};return{homePageBuilder:function(){var e=document.createElement("div");e.setAttribute("id","header");var t=document.createElement("div");t.setAttribute("id","tododiv"),e.appendChild(function(){var e=document.createElement("div");e.setAttribute("id","logodiv");var t=document.createElement("div");t.setAttribute("id","checkmark"),t.innerHTML="&#10003";var n=document.createElement("div");return n.setAttribute("id","logo"),n.textContent="To Do",e.appendChild(t),e.appendChild(n),e}());var d=document.createElement("button");d.setAttribute("id","addnewbutton"),d.textContent="Add ToDo",e.appendChild(d);var o=document.createElement("div");o.setAttribute("id","doneheader"),o.textContent="Done";var r=document.createElement("div");r.setAttribute("id","donediv"),n.appendChild(e),n.appendChild(t),n.appendChild(o),n.appendChild(r),n.appendChild(v.buildForm());var a=document.getElementById("formdiv");d.addEventListener("click",(function(){a.style.display="block",n.classList.add("blurred")}))},toDoBuilder:d,displayToDos:o}}();const g=h;g.homePageBuilder(),l.loadArys(),g.displayToDos(l.getToDoAry())})();
//# sourceMappingURL=main.js.map