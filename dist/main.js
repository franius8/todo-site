(()=>{"use strict";const e=function(e){return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()},t=function(e){var t=e,n=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),d=t.getTime()-n.getTime();return Math.floor(d/864e5)},n=function(e){var t=String(e.getDate()).padStart(2,"0"),n=e.getMonth()+1;return e.getFullYear()+"-"+n+"-"+t},d=function(e,t,n,d,o){var i=!1;return{heading:e,text:t,date:n,priority:d,iD:o,markAsDone:function(){return i=!i},getDoneStatus:function(){return i}}};var o;const i=(o=JSON.parse(localStorage.getItem("idsary")||"[]"),{generateID:function(){for(;;){var e=Math.floor(1e4*Math.random());if(!o.includes(e))return o.push(e),localStorage.setItem("idsary",JSON.stringify(o)),e}},freeID:function(e){var t=o.indexOf(e);o.splice(t,1),localStorage.setItem("idsary",JSON.stringify(o))}}),a=function(e){return new Date(e)};var r,l;const c=(r=[],l=[],{createToDo:function(e,t,n,o){var a=i.generateID(),l=d(e,t,n,o,a);return r.push(l),localStorage.setItem("todoary",JSON.stringify(r)),l},modifyToDo:function(e,t,n,d,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===d&&(d=null),void 0===o&&(o=null);var i=r.find((function(t){return t.iD===e}));null!==t&&(i.heading=t),null!==n&&(i.text=n),null!==d&&(i.date=d),null!==o&&(i.priority=o)},deleteToDo:function(e){var t=r.findIndex((function(t){return t.iD===e}));r.splice(t,1),localStorage.setItem("todoary",JSON.stringify(r)),i.freeID(e)},getToDoAry:function(){return r},loadArys:function(){JSON.parse(localStorage.getItem("todoary")||"[]").forEach((function(e){e.date=a(e.date),r.push(d(e.heading,e.text,e.date,e.priority,e.iD))})),(l=JSON.parse(localStorage.getItem("doneary")||"[]")).forEach((function(e){e.date=a(e.date)}))},getDoneAry:function(){return l},moveToDone:function(e){var t=r.findIndex((function(t){return t.iD===e})),n=r.splice(t,1)[0];console.log(n),n.markAsDone(),localStorage.setItem("todoary",JSON.stringify(r)),l.push(n),localStorage.setItem("doneary",JSON.stringify(l))},findTodDo:function(e){return r.find((function(t){return t.iD===e}))}}),u=function(e){return[document.getElementById("todotitle").value,document.getElementById("todocontent").value,new Date(document.getElementById("tododate").value),document.querySelector('input[name="todopriority"]:checked').value]},s=function(e){var t=e.target,n=t.querySelector("#todotitleedit").value,d=t.querySelector("#todocontentedit").value,o=new Date(t.querySelector("#tododateedit").value),i=t.querySelector('input[name="todopriorityedit"]:checked').value;return t.reset(),[n,d,o,i]},m=function(e){e.preventDefault();var t=e.target,n=t.parentNode,d=u(t);t.reset(),n.style.display="none",c.createToDo(d[0],d[1],d[2],d[3]),L.displayToDos(c.getToDoAry())},p=function(e){e.preventDefault();var t=e.target,n=t.parentNode.parentNode,d=s(e);t.reset(),c.modifyToDo(Number(n.id),d[0],d[1],d[2],d[3]),L.displayToDos(c.getToDoAry())};var v,y,f,g,h,b;const E=(v=["Low","Standard","High"],y=document.getElementById("content")||document.createElement("content"),f=function(e,t){var n=document.createElement("label");return n.setAttribute("for",e),n.textContent=t,n},g=function(e,t,n){void 0===n&&(n=null);var d=document.createElement("div");d.classList.add("inputdiv"),d.appendChild(f("radiocontainer","Priority:"));var o=document.createElement("div");return o.setAttribute("id","radiocontainer"),t.forEach((function(t){var d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("name",e),d.setAttribute("value",t),d.setAttribute("id",t),t===n&&d.setAttribute("checked","checked");var i=document.createElement("label");i.setAttribute("for",t),i.textContent=t[0].toUpperCase()+t.substring(1),o.appendChild(d),o.appendChild(i)})),d.appendChild(o),d},h=function(e,t,n,d){void 0===d&&(d=!0);var o=document.createElement("div");return o.classList.add("inputdiv"),o.appendChild(f(t,n)),o.appendChild(function(e,t,n,d){void 0===n&&(n="empty");var o=document.createElement("input");return o.setAttribute("type",e),o.setAttribute("name",t),o.setAttribute("id",t),!0===d&&o.setAttribute("required","true"),"empty"!==n&&o.setAttribute("value",n),o}(e,t,"empty",d)),o},b=function(e,t,n,d,o){void 0===d&&(d=!0);var i=h(e,t,n,d);return i.querySelector("#".concat(t)).value=o,i},{buildForm:function(){var e=document.createElement("div");e.setAttribute("id","formdiv");var t=document.createElement("h2");t.setAttribute("id","formheading"),t.textContent="Add a new ToDo";var n,d=document.createElement("form");return d.appendChild(h("text","todotitle","Title:")),d.appendChild(h("text","todocontent","Content (optional):",!1)),d.appendChild(h("date","tododate","Due date:")),d.appendChild(g("todopriority",v)),d.appendChild(((n=document.createElement("button")).setAttribute("type","submit"),n.setAttribute("id","todosubmit"),n.textContent="Add",n)),e.appendChild(function(e){var t=document.createElement("div");t.setAttribute("id","closebuttondiv");var n=document.createElement("button");return n.setAttribute("id","closebutton"),n.innerHTML='<span class="material-symbols-outlined">close</span>',n.addEventListener("click",(function(){e.style.display="none",y.classList.remove("blurred")})),t.appendChild(n),t}(e)),e.appendChild(t),e.appendChild(d),d.addEventListener("submit",(function(e){m(e),y.classList.remove("blurred")})),e},buildEditForm:function(e){var t=e.target.parentNode,d=t.parentNode,o=d.querySelector(".todocontent"),i=c.findTodDo(Number(d.id)),a=i.heading,r=i.text,l=i.date,u=i.priority;o.innerHTML="",o.classList.add("duringedit"),o.classList.remove("todocontent");var s=document.createElement("form");s.classList.add("todocontent"),s.setAttribute("id","editform"),s.appendChild(b("text","todotitleedit","Title:",!0,a)),s.appendChild(b("text","todocontentedit","Content (optional):",!1,r)),s.appendChild(b("date","tododateedit","Due date:",!0,n(l))),s.appendChild(g("todopriorityedit",v,u)),o.appendChild(s),t.innerHTML="";var m=document.createElement("button");m.classList.add("cancelbutton"),m.innerHTML='<span class="material-symbols-outlined">undo</span>',m.addEventListener("click",(function(){L.displayToDos(c.getToDoAry())}));var y=document.createElement("button");y.classList.add("acceptbutton"),y.setAttribute("type","submit"),y.setAttribute("form","editform"),y.innerHTML='<span class="material-symbols-outlined">check</span>',s.addEventListener("submit",(function(e){p(e)})),t.appendChild(m),t.appendChild(y)}});var C=function(){var n=document.getElementById("content")||document.createElement("content"),d=function(){document.querySelectorAll(".navitem").forEach((function(e){e.addEventListener("click",(function(e){switch(e.target.id){case"homepagelink":C.homePageBuilder();break;case"donelink":C.donePageBuilder();break;case"projectlink":C.projectPageBuilder()}}))}))},o=function(){n.textContent=""},i=function(){var e=document.createElement("header");e.setAttribute("id","header"),e.appendChild(function(){var e=document.createElement("div");e.setAttribute("id","logodiv");var t=document.createElement("div");t.setAttribute("id","checkmark"),t.innerHTML="&#10003";var n=document.createElement("div");return n.setAttribute("id","logo"),n.textContent="To Do",e.appendChild(t),e.appendChild(n),e}()),e.appendChild(function(){var e=document.createElement("div");e.setAttribute("id","navigationdiv");var t=document.createElement("div");t.classList.add("navitem"),t.setAttribute("id","homepagelink"),t.innerHTML='<span class="material-symbols-outlined">house</span> Homepage';var n=document.createElement("div");n.innerHTML='<span class="material-symbols-outlined">done</span> Done',n.classList.add("navitem"),n.setAttribute("id","donelink");var d=document.createElement("div");return d.classList.add("navitem"),d.setAttribute("id","projectlink"),d.innerHTML='<span class="material-symbols-outlined">assignment</span> Projects',e.appendChild(t),e.appendChild(n),e.appendChild(d),e}());var t=document.createElement("button");return t.setAttribute("id","addnewbutton"),t.textContent="Add ToDo",e.appendChild(t),e},a=function(n,d,o){void 0===o&&(o=!1);var i,a,l=document.createElement("div");!1===o?l.classList.add("todo"):l.classList.add("donetodo"),l.setAttribute("id",n.iD.toString()),l.appendChild((i=n.priority,(a=document.createElement("div")).classList.add("labelstripe"),"Standard"===i?a.style.backgroundColor="orange":"Low"===i?a.style.backgroundColor="blue":"High"===i&&(a.style.backgroundColor="red"),a));var u,s=document.createElement("div");s.classList.add("checkboxdiv"),s.appendChild(((u=document.createElement("div")).classList.add("checkbox"),u.innerHTML="&#10003",u.addEventListener("click",(function(e){var t=e.target,n=t.parentNode,d=t.cloneNode(!0);n.replaceChild(d,t);var o=n.parentNode,i=Number(o.id);c.moveToDone(i),o.remove(),o.classList.remove("todo"),o.classList.add("donetodo"),document.getElementById("donediv").appendChild(o)})),u)),l.appendChild(s),l.appendChild(function(n){var d=document.createElement("div");d.classList.add("todocontent");var o=document.createElement("div");o.classList.add("todoheader"),o.textContent=n.heading;var i=document.createElement("div");return i.classList.add("todotext"),i.textContent=n.text,d.appendChild(o),d.appendChild(i),d.appendChild(function(n){var d=document.createElement("div");d.classList.add("tododate");var o=document.createElement("div");o.innerHTML='<span class="material-symbols-outlined">calendar_month</span>';var i=document.createElement("div"),a=t(n);return 1===a?i.textContent=e(n)+" ("+t(n)+" day left)":a>=0?i.textContent=e(n)+" ("+t(n)+" days left)":-1===a?(d.classList.add("missedtodo"),i.textContent=e(n)+" ("+Math.abs(t(n))+" day ago)"):(d.classList.add("missedtodo"),i.textContent=e(n)+" ("+Math.abs(t(n))+" days ago)"),d.appendChild(o),d.appendChild(i),d}(n.date)),d.appendChild(function(e){var t=document.createElement("div");t.classList.add("todopriority");var n=document.createElement("div");n.classList.add("prioritycircle"),"Standard"===e?n.style.backgroundColor="orange":"Low"===e?n.style.backgroundColor="blue":"High"===e&&(n.style.backgroundColor="red");var d=document.createElement("div");return d.textContent=e+" priority",t.appendChild(n),t.appendChild(d),t}(n.priority)),d}(n)),l.appendChild(function(){var e=document.createElement("div");e.classList.add("buttondiv");var t=document.createElement("button");t.classList.add("editbutton"),t.innerHTML='<span class="material-symbols-outlined">edit</span>',t.addEventListener("click",(function(e){E.buildEditForm(e)}));var n=document.createElement("button");return n.classList.add("deletebutton"),n.innerHTML='<span class="material-symbols-outlined">delete</span>',n.addEventListener("click",(function(e){var t=e.target.parentNode.parentNode,n=Number(t.id);confirm("Are you sure you want to delete that?\n(This is an irreversible operation)")&&(c.deleteToDo(n),r(c.getToDoAry()))})),e.appendChild(t),e.appendChild(n),e}()),d.appendChild(l)},r=function(e){var t=document.getElementById("tododiv")||document.createElement("tododiv");if(document.getElementById("tododiv").textContent="",0===e.length){var d=document.createElement("div");return d.setAttribute("id","actiondiv"),d.innerHTML='No ToDos yet. Time to <span id="addnew">add a new one</span>.',d.querySelector("#addnew").addEventListener("click",(function(){document.getElementById("formdiv").style.display="block",n.classList.add("blurred")})),void t.appendChild(d)}e.sort((function(e,t){return e.date.getTime()-t.date.getTime()})).forEach((function(e){return a(e,t)}))},l=function(e){document.getElementById("donediv").textContent="";var t=document.getElementById("donediv");e.sort((function(e,t){return e.date.getTime()-t.date.getTime()})).forEach((function(e){return a(e,t,!0)}))};return{homePageBuilder:function(){o();var e=document.createElement("div");e.setAttribute("id","tododiv"),n.appendChild(i()),n.appendChild(e),n.appendChild(E.buildForm());var t=document.getElementById("addnewbutton"),a=document.getElementById("formdiv");t.addEventListener("click",(function(){a.style.display="block",n.classList.add("blurred")})),document.getElementById("homepagelink").classList.add("active"),d(),r(c.getToDoAry())},donePageBuilder:function(){o();var e=document.createElement("div");e.setAttribute("id","donediv"),n.appendChild(i()),n.appendChild(e),n.appendChild(E.buildForm());var t=document.getElementById("addnewbutton"),a=document.getElementById("formdiv");t.addEventListener("click",(function(){a.style.display="block",n.classList.add("blurred")})),document.getElementById("donelink").classList.add("active"),d(),l(c.getDoneAry())},projectPageBuilder:function(){o();var e=document.createElement("div");e.setAttribute("id","projectdiv"),n.appendChild(i()),n.appendChild(e),n.appendChild(E.buildForm());var t=document.getElementById("addnewbutton"),a=document.getElementById("formdiv");t.addEventListener("click",(function(){a.style.display="block",n.classList.add("blurred")})),document.getElementById("projectlink").classList.add("active"),d()},displayToDos:r,displayDoneToDos:l}}();const L=C;c.loadArys(),L.homePageBuilder()})();
//# sourceMappingURL=main.js.map